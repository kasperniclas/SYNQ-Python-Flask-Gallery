<!doctype html>
<html>
	<head>
		<title>SYNQ Demo - Upload</title>
		<link href="/static/style.css" rel="stylesheet">
		<script src="/static/app.js" ></script>
		<script>
			window.addEventListener('message', function (event) {
	// Make sure the event is from the synq uploader iframe.
				console.log(event.origin);
	if(event.origin == "https://uploader.synq.fm"){
		eventObj = JSON.parse(event.data);
		// Check if it's an upload complete event.
		if(eventObj.event == "synqUploaderStatusChange" && eventObj.newStatus == "upload successful"){
			// Upload completed successfully. Redirect the user to the frontpage.
			var myTimer = {};
			myTimer = $.timer(3000, function() {
			 window.location.href = "https://player.synq.fm/embed/{{ video_id }}";
		 });
		}
	}
}, true);
</script>
	</head>
	<body>
		<div class="content">
						<div class="content-body">
							
							<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
								 width="170px" height="40px" viewBox="0 0 275 64" enable-background="new 0 0 275 64" xml:space="preserve">
							<g>
								<g>
									<g>
										<g>
											<g>
												<polygon fill="#333333" points="214.308,15.421 214.308,50.075 190.054,15.44 190.054,15.436 190.054,15.421 190.04,15.421 
													185.693,15.421 185.693,57.676 190.054,57.676 190.054,23.035 214.308,57.674 214.308,57.676 214.31,57.676 218.666,57.676 
													218.666,56.302 218.666,15.421 					"/>
											</g>
											<path fill="#333333" d="M273.759,55.977l-4.372-6.215c2.795-3.68,4.436-8.256,4.351-13.216
												c-0.211-12.098-9.846-21.944-21.946-21.944s-22.154,9.847-21.945,21.944c0.211,12.099,9.846,21.946,21.945,21.946
												c5.547,0,10.66-2.074,14.555-5.479l3.846,5.464L273.759,55.977z M251.791,54.68c-10.013,0-17.955-8.12-18.132-18.133
												c-0.173-10.012,8.119-18.13,18.132-18.13c10.016,0,17.957,8.117,18.134,18.13c0.063,3.654-1.011,7.05-2.871,9.896l-5.061-7.194
												l-3.57,2.496l5.708,8.112C260.876,52.844,256.532,54.68,251.791,54.68z"/>
											<g>
												<g>
													<polygon fill="#333333" points="168.1,15.421 154.492,34.887 154.373,34.887 140.651,15.438 137.229,17.412 152.221,39.432 
														152.221,57.676 156.603,57.676 156.603,51.927 156.603,39.432 172.808,15.421 						"/>
												</g>
											</g>
										</g>
										<g>
											<path fill="#333333" d="M113.745,14.475c-7.57,0-13.498,4.996-13.498,11.375c0,6.708,6.118,9.079,11.447,10.396l4.603,1.143
												c7.933,1.977,9.56,4.652,9.56,8.068c0,5.359-4.799,9.103-11.667,9.103c-5.751,0-10.201-2.549-11.78-6.461l-3.518,2.029
												c2.361,5.11,8.135,8.492,15.298,8.492c9.111,0,15.727-5.533,15.727-13.162c0-7.856-6.754-10.545-12.639-12.01l-4.604-1.144
												c-7.352-1.816-8.364-4.175-8.364-6.455c0-4.169,4.056-7.315,9.437-7.315c5.141,0,9.222,2.608,9.856,6.167l3.629-2.092
												C125.612,17.832,120.287,14.475,113.745,14.475z"/>
										</g>
									</g>
								</g>
								<path fill="#333333" d="M66.43,46.709l2.29-0.65v6.421l-8.561-2.422V37.196c2.746-0.915,5.268-2.447,7.377-4.558
									c3.572-3.571,5.542-8.324,5.542-13.377c0-5.052-1.969-9.804-5.548-13.38c-3.57-3.573-8.322-5.54-13.376-5.54
									c-5.053,0-9.804,1.967-13.376,5.542c-4.197,4.197-7.099,8.84-9.635,13.043c-0.651-3.456-2.462-6.506-5.042-8.701
									c-2.725-2.324-6.145-3.602-9.768-3.602c-4.032,0-7.823,1.572-10.672,4.421C2.809,13.897,1.24,17.688,1.24,21.72
									c0,4.03,1.569,7.821,4.421,10.672c2.289,2.29,5.187,3.735,8.325,4.222v13.489v4.529v9.026h46.172v-9.073l12.919,3.657V40.294
									l-9.298,2.635L66.43,46.709z M8.743,29.311c-2.03-2.028-3.146-4.725-3.146-7.59c0-2.87,1.116-5.563,3.146-7.594
									c2.025-2.028,4.723-3.144,7.591-3.144c2.714,0,5.266,1.012,7.251,2.835l0.006-0.007c2.136,1.962,3.475,4.78,3.475,7.91
									c0,2.964-1.202,5.648-3.143,7.591l0.001-0.001c-2.026,2.025-4.723,3.143-7.59,3.143C13.465,32.455,10.77,31.338,8.743,29.311z
									 M54.155,33.824h-0.003c-3.878,0-7.52-1.507-10.263-4.239l-0.006,0.012l0.005-0.012c-0.701-0.696-1.329-1.464-1.875-2.291
									l-2.631,3.76c0.6,0.75,1.264,1.443,1.971,2.092l-0.007,0.008c0.034,0.033,0.076,0.062,0.112,0.094
									c0.097,0.09,0.183,0.185,0.279,0.27l0.012-0.021c3.441,3.012,7.784,4.688,12.402,4.688h0.005c0.554,0,1.101-0.033,1.644-0.08
									v21.198H18.345V36.664c3.269-0.431,6.294-1.902,8.664-4.271c2.828-2.826,5-6.444,7.302-10.276c2.663-4.433,5.416-9.019,9.55-13.152
									C46.61,6.216,50.268,4.7,54.157,4.7c3.893,0,7.545,1.514,10.296,4.264c2.753,2.752,4.27,6.41,4.27,10.298
									s-1.512,7.544-4.266,10.297C61.706,32.309,58.048,33.824,54.155,33.824z"/></p>
							</g>
							</svg>
						</br>
						
							<p>Use this page to test the video uploading and playback functionality of the SYNQ API.</p>
					
							
				<div class="videobox" id="{{ video_id }}">
					<iframe src="{{ uploader_url }}&skin.background=fafafa&skin.progress=0A24FB&skin.text=0A24FB" style="border-radius:4px; border-style:dotted; border-width:medium; border-color:#cccccc;"></iframe>
					<form onsubmit="update_tags();" action="javascript:void(0);">
						<div class = "tag-box">
								<input class="tag-input" type="text" name="tags" id="tags" placeholder="🏷️ Add tags (separate with commas)" oninput="tags_changed(this.value);" {% if tags %} value="{{ tags }}" {% endif %}>
							<div class= "tag-button" id= "tag-button" onClick="update_tags();">
								Add tags
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
